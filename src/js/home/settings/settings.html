<style>
    .no-border {
        border: 0px;
    }

    .border-bottom {
        border-bottom: 1px solid #ccc;
    }

    .rem-radius {
        border-radius: 0px;
    }

    .list-group-settings:hover {
        background: #5c0055;
        color: #fff;
    }

    .settings-div {
        border: #ddd 1px solid;
        padding: 10px;
    }
</style>

<div class="container">
    <br><br>

    <h3>Settings</h3>
    <br>

    <div style="padding: 15pt; border: #ccc 1px solid;" ng-if="objs.isEditing">
        <h3>Add new entry</h3>
        <br><br>
        <div class="row">
            <div class="col-md-4">
                <label>Description:</label>
            </div>
            <div class="col-md-8">
                <input type="text" class="form-control" ng-model="objs.form.description">
            </div>
        </div>
        <br>

        <div class="row">
            <div class="col-md-4">
                <label>Type:</label>
            </div>
            <div class="col-md-8">
                <input type="radio" name="sett_name" ng-model="objs.form.type" value="category"> Category <br>
                <input type="radio" name="sett_name" ng-model="objs.form.type" value="worktype"> Work Type <br>
                <input type="radio" name="sett_name" ng-model="objs.form.type" value="projectname"> Project Name
            </div>
        </div>
        <br>
        <div style="text-align:right">
            <input type="button" class="btn btn-primary" ng-click="action(objs.form, 'new')"
                ng-disabled="objs.form.description.length == 0 || objs.form.type.length == 0" value="Save">
            <input type="button" class="btn btn-danger" ng-click="objs.isEditing = false" value="Cancel">
        </div>
    </div>

    <div ng-if="!objs.isEditing">

        <!--<div class="row">
            <div class="col-md-6">
                <div class="settings-div">
                    <div class="title-div">
                        <div class="title">
                            CATEGORY ({{objs.worktype.data.length}})
                        </div>
                        <br>
                        <div class="title-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <label ng-show="!objs.addWFtype">Filter: </label>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" ng-show="!objs.addWFtype" class="form-control"
                                        placeholder="filter" ng-model="filter.txtFilterCategory">
                                </div>
                                <div class="col-md-3">
                                    <div class="align-right">
                                        <input type="button" class="btn btn-purple-color" value="New"
                                            ng-click="objs.addWFtype = true" ng-show="!objs.addWFtype">

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div ng-if="objs.addWFtype">
                        <br>
                        <div class="row">

                            <div class="col-md-12">
                                <input type="text" ng-model="objs.worktype.worktypetext" class="form-control"
                                    placeholder="Category">
                                <br>
                                <input type="button" class="btn btn-sm btn-purple-color"
                                    ng-Disabled="objs.worktype.worktypetext.length < 3" ng-click="save_work_type()"
                                    value="Save">
                                <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                    ng-click="objs.addWFtype = false">
                            </div>

                        </div>
                        <hr>
                    </div>
                    <br>

                    <div class="row">

                        <div class="col-md-12">
                            <p ng-if="objs.worktype.isLoading">
                                ...loading
                            </p>
                            <ul ng-if="!objs.addWFtype" class="list-group " ng-if="!objs.worktype.isLoading"
                                ng-repeat="worktype in objs.worktype.data | filter: filter.txtFilterCategory">
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                    {{worktype.description}}
                                    <div style="text-align:right">
                                        <button ng-if="false" class="btn btn-sm btn-primary"
                                            ng-click="remove_work_type(worktype, 'edit')"><i
                                                class="far fa-edit"></i></button>
                                        <button class="btn btn-sm btn-danger" ng-click="remove_work_type(worktype)"><i
                                                class="fas fa-minus-circle"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <br>

            </div>
            <div class="col-md-6">
                <div class="settings-div">

                    <div class="title-div">
                        <div class="title">
                            LINKS
                        </div>
                        <br>
                        <div class="title-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <label>Filter: </label>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" placeholder="filter"
                                        ng-model="filters.txtFilterLinks">
                                </div>
                                <div class="col-md-3">
                                    <div class="align-right">
                                        <input type="button" class="btn btn-purple-color" value="New"
                                            data-toggle="modal" data-target="#linkCategorisModal">

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <ul class="list-group " ng-if="!objs.categorylinks.isLoading"
                                ng-repeat="link in objs.categorylinks.data | filter:filters.txtFilterLinks">
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                    ({{link.worktype}}) - {{link.category}}
                                    <div style="text-align:right">

                                        <button class="btn btn-sm btn-danger" ng-click="remove_link(link)"><i
                                                class="fas fa-minus-circle"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <br>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="settings-div">

                    <div class="title-div">
                        <div class="title">
                            SUB CATEGORY({{objs.category.data.length}})
                        </div>
                        <br>
                        <div class="title-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <label ng-show="!objs.addSubCategory">Filter: </label>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" ng-show="!objs.addSubCategory" class="form-control"
                                        placeholder="filter" ng-model="filters.txtFiltersubcat">
                                </div>
                                <div class="col-md-3">
                                    <div class="align-right">
                                        <input type="button" class="btn btn-purple-color" value="New"
                                            ng-click="objs.addSubCategory = true" ng-show="!objs.addSubCategory">

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <br>
                    <div ng-if="objs.addSubCategory">
                        <br>
                        <div class="row">

                            <div class="col-md-12">
                                <input type="text" ng-model="objs.category.categorytext" class="form-control"
                                    placeholder="sub category">
                                <br>
                                <input type="button" class="btn btn-sm btn-purple-color"
                                    ng-Disabled="objs.category.categorytext.length < 3" ng-click="save_category()"
                                    value="Save">
                                <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                    ng-click="objs.addSubCategory = false">
                            </div>

                        </div>
                        <hr>
                    </div>
                    <br>

                    <div class="row" ng-if="!objs.addSubCategory">

                        <div class="col-md-12">
                            <p ng-if="objs.category.isLoading">
                                ...loading
                            </p>
                            <ul class="list-group" ng-if="!objs.category.isLoading"
                                ng-repeat="category in objs.category.data | filter:filters.txtFiltersubcat">
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                    {{category.description}}
                                    <div style="text-align:right">

                                        <button class="btn btn-sm btn-danger" ng-click="remove_subCategory(category)"><i
                                                class="fas fa-minus-circle"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <br>
            </div>
        </div>


        <div class="row">
            <div class="col-md-12">
                <div class="settings-div">

                    <div class="title-div">
                        <div class="title">
                            PROJECT NAME: ({{objs.category.data.length}}):
                        </div>
                        <br>
                        <div class="title-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <label ng-show="!objs.addWFtype">Filter: </label>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" ng-show="!objs.addWFtype" class="form-control"
                                        placeholder="filter" ng-model="filter.txtFilterProject">
                                </div>
                                <div class="col-md-3">
                                    <div class="align-right">
                                        <input type="button" class="btn btn-purple-color" value="New"
                                            ng-click="objs.addProjectName = true" ng-show="!objs.addProjectName">
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <br>

                    <div class="row">
                        <div class="col-md-12">
                            <div ng-if="objs.addProjectName">
                                <br>
                                <div class="row">

                                    <div class="col-md-12">
                                        <input type="text" ng-model="objs.projectname.projectnametext"
                                            class="form-control">
                                        <br>
                                        <input type="button" class="btn btn-sm btn-purple-color"
                                            ng-click="save_project_name()" placeholder="project name"
                                            ng-disabled="objs.projectname.projectnametext.length < 3" value="Save">
                                        <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                            ng-click="objs.addProjectName = false">
                                    </div>
                                </div>
                                <hr>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row" ng-if="!objs.addProjectName">

                        <div class="col-md-12">
                            <p ng-if="objs.projectname.isLoading">
                                ...loading
                            </p>
                            <ul class="list-group" ng-if="!objs.projectname.isLoading">
                                <li ng-repeat="projectname in objs.projectname.data | filter : filter.txtFilterProject"
                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                    {{projectname.description}}
                                    <div style="text-align:right">
                                        <button class="btn btn-sm btn-danger"
                                            ng-click="remove_project_name(projectname)"><i
                                                class="fas fa-minus-circle"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->

        <div id="accordion">

            <div class="card">
                <div class="card-header">
                    <a class="card-link" data-toggle="collapse" href="#collapse_category">
                        CATEGORY
                    </a>
                </div>
                <div id="collapse_category" class="collapse show" data-parent="#accordion">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="settings-div">
                                    <div class="title-div">
                                        <div class="title">
                                            CATEGORY ({{objs.worktype.data.length}})
                                        </div>
                                        <br>
                                        <div class="title-body">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <label ng-show="!objs.addWFtype">Filter: </label>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="text" ng-show="!objs.addWFtype" class="form-control"
                                                        placeholder="filter" ng-model="filter.txtFilterCategory">
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="align-right">
                                                        <input type="button" class="btn btn-purple-color" value="New"
                                                            ng-click="objs.addWFtype = true" ng-show="!objs.addWFtype">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <div ng-if="objs.addWFtype">
                                        <br>
                                        <div class="row">

                                            <div class="col-md-12">
                                                <input type="text" ng-model="objs.worktype.worktypetext"
                                                    class="form-control" placeholder="Category">
                                                <br>
                                                <input type="button" class="btn btn-sm btn-purple-color"
                                                    ng-Disabled="objs.worktype.worktypetext.length < 3"
                                                    ng-click="save_work_type()" value="Save">
                                                <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                                    ng-click="objs.addWFtype = false">
                                            </div>

                                        </div>
                                        <hr>
                                    </div>
                                    <br>

                                    <div class="row">

                                        <div class="col-md-12">
                                            <p ng-if="objs.worktype.isLoading">
                                                ...loading
                                            </p>
                                            <ul ng-if="!objs.addWFtype" class="list-group "
                                                ng-if="!objs.worktype.isLoading"
                                                ng-repeat="worktype in objs.worktype.data | filter: filter.txtFilterCategory">
                                                <li
                                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                                    {{worktype.description}}
                                                    <div style="text-align:right">
                                                        <button ng-if="false" class="btn btn-sm btn-primary"
                                                            ng-click="remove_work_type(worktype, 'edit')"><i
                                                                class="far fa-edit"></i></button>
                                                        <button class="btn btn-sm btn-danger"
                                                            ng-click="remove_work_type(worktype)"><i
                                                                class="fas fa-minus-circle"></i></button>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <br>

                            </div>
                            <div class="col-md-6">
                                <div class="settings-div">

                                    <div class="title-div">
                                        <div class="title">
                                            LINKS
                                        </div>
                                        <br>
                                        <div class="title-body">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <label>Filter: </label>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="text" class="form-control" placeholder="filter"
                                                        ng-model="filters.txtFilterLinks">
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="align-right">
                                                        <input type="button" class="btn btn-purple-color" value="New"
                                                            data-toggle="modal" data-target="#linkCategorisModal">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <br>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <ul class="list-group " ng-if="!objs.categorylinks.isLoading"
                                                ng-repeat="link in objs.categorylinks.data | filter:filters.txtFilterLinks">
                                                <li
                                                    class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                                    ({{link.worktype}}) - {{link.category}}
                                                    <div style="text-align:right">

                                                        <button class="btn btn-sm btn-danger"
                                                            ng-click="remove_link(link)"><i
                                                                class="fas fa-minus-circle"></i></button>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                        </div>

                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapse_sub_category">
                        SUB CATEGORY
                    </a>
                </div>
                <div id="collapse_sub_category" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <div class="settings-div">

                            <div class="title-div">
                                <div class="title">
                                    SUB CATEGORY({{objs.category.data.length}})
                                </div>
                                <br>
                                <div class="title-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <label ng-show="!objs.addSubCategory">Filter: </label>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" ng-show="!objs.addSubCategory" class="form-control"
                                                placeholder="filter" ng-model="filters.txtFiltersubcat">
                                        </div>
                                        <div class="col-md-3">
                                            <div class="align-right">
                                                <input type="button" class="btn btn-purple-color" value="New"
                                                    ng-click="objs.addSubCategory = true"
                                                    ng-show="!objs.addSubCategory">

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br>
                            <div ng-if="objs.addSubCategory">
                                <br>
                                <div class="row">

                                    <div class="col-md-12">
                                        <input type="text" ng-model="objs.category.categorytext" class="form-control"
                                            placeholder="sub category">
                                        <br>
                                        <input type="button" class="btn btn-sm btn-purple-color"
                                            ng-Disabled="objs.category.categorytext.length < 3"
                                            ng-click="save_category()" value="Save">
                                        <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                            ng-click="objs.addSubCategory = false">
                                    </div>

                                </div>
                                <hr>
                            </div>
                            <br>

                            <div class="row" ng-if="!objs.addSubCategory">

                                <div class="col-md-12">
                                    <p ng-if="objs.category.isLoading">
                                        ...loading
                                    </p>
                                    <ul class="list-group" ng-if="!objs.category.isLoading"
                                        ng-repeat="category in objs.category.data | filter:filters.txtFiltersubcat">
                                        <li
                                            class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                            {{category.description}}
                                            <div style="text-align:right">

                                                <button class="btn btn-sm btn-danger"
                                                    ng-click="remove_subCategory(category)"><i
                                                        class="fas fa-minus-circle"></i></button>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapse_project_name">
                        PROJECT NAME
                    </a>
                </div>
                <div id="collapse_project_name" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <div class="settings-div">

                            <div class="title-div">
                                <div class="title">
                                    PROJECT NAME: ({{objs.category.data.length}}):
                                </div>
                                <br>
                                <div class="title-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <label ng-show="!objs.addWFtype">Filter: </label>
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" ng-show="!objs.addWFtype" class="form-control"
                                                placeholder="filter" ng-model="filter.txtFilterProject">
                                        </div>
                                        <div class="col-md-3">
                                            <div class="align-right">
                                                <input type="button" class="btn btn-purple-color" value="New"
                                                    ng-click="objs.addProjectName = true"
                                                    ng-show="!objs.addProjectName">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <br>

                            <div class="row">
                                <div class="col-md-12">
                                    <div ng-if="objs.addProjectName">
                                        <br>
                                        <div class="row">

                                            <div class="col-md-12">
                                                <input type="text" ng-model="objs.projectname.projectnametext"
                                                    class="form-control">
                                                <br>
                                                <input type="button" class="btn btn-sm btn-purple-color"
                                                    ng-click="save_project_name()" placeholder="project name"
                                                    ng-disabled="objs.projectname.projectnametext.length < 3"
                                                    value="Save">
                                                <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                                    ng-click="objs.addProjectName = false">
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row" ng-if="!objs.addProjectName">

                                <div class="col-md-12">
                                    <p ng-if="objs.projectname.isLoading">
                                        ...loading
                                    </p>
                                    <ul class="list-group" ng-if="!objs.projectname.isLoading">
                                        <li ng-repeat="projectname in objs.projectname.data | filter : filter.txtFilterProject"
                                            class="list-group-item d-flex justify-content-between align-items-center no-border list-group-settings">
                                            {{projectname.description}}
                                            <div style="text-align:right">
                                                <button class="btn btn-sm btn-danger"
                                                    ng-click="remove_project_name(projectname)"><i
                                                        class="fas fa-minus-circle"></i></button>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <a class="collapsed card-link" data-toggle="collapse" href="#collapse_reporting">
                        EMAIL REPORTING
                    </a>
                </div>
                <div id="collapse_reporting" class="collapse" data-parent="#accordion">
                    <div class="card-body">
                        <div class="settings-div">

                            <div class="title-div">
                                <div class="title">
                                    EMAIL REPORTING
                                </div>
                                <br>
                                <div class="title-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <!-- <label ng-show="!objs.addWFtype">Filter: </label> -->
                                        </div>
                                        <div class="col-md-6">
                                            <!-- <input type="text" ng-show="!objs.addWFtype" class="form-control"
                                                placeholder="filter" ng-model="filter.txtFilterProject"> -->
                                        </div>
                                        <div class="col-md-3">
                                            <div class="align-right">
                                                <input type="button" class="btn btn-purple-color" value="New"
                                                    ng-click="objs.addProjectName = true"
                                                    ng-show="!objs.addProjectName">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <br>

                            <div class="row">
                                <div class="col-md-12">
                                    <div ng-if="objs.addProjectName">
                                        <br>
                                        <div class="row">

                                            <div class="col-md-12">
                                                <input type="text" ng-model="objs.projectname.projectnametext"
                                                    class="form-control">
                                                <br>
                                                <input type="button" class="btn btn-sm btn-purple-color"
                                                    ng-click="save_project_name()" placeholder="project name"
                                                    ng-disabled="objs.projectname.projectnametext.length < 3"
                                                    value="Save">
                                                <input type="button" class="btn btn-sm btn btn-danger" value="Cancel"
                                                    ng-click="objs.addProjectName = false">
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row" ng-if="!objs.addProjectName">

                                <div class="col-md-12">
                                    <p ng-if="objs.projectname.isLoading">
                                        ...loading
                                    </p>
                                    <div >
                                        <div class="form-group">
                                            <label for="pwd">Email Address:</label>
                                            <input type="text" ng-model="objs.emailObj.emailAddresses" class="form-control" id="pwd" name="emailAddresses">
                                        </div>
                                        <div class="form-group">
                                            <label for="pwd">Subject:</label>
                                            <input type="text" ng-model="objs.emailObj.emailSubject" class="form-control" id="pwd" name="emailSubject">
                                        </div>
                                        <div class="form-group">
                                            <label for="pwd">Body:</label>
                                            <textarea class="form-control" ng-model="objs.emailObj.emailBody" rows="5" id="comment"></textarea>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!--Link category-->
    <div class="modal fade" id="linkCategorisModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Link Work type & Categories</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">
                            <label>Select Category:</label>
                            <br>
                            <select id="worktype" class="form-control"></select>
                        </div>
                        <div class="col-md-8">
                            <ul class="list-group">
                                <li class="list-group-item" style="font-size: 10pt;"
                                    ng-repeat="cat in objs.category.data">
                                    {{cat.description}}
                                    <span style="float: right;">
                                        <a href="#" ng-click="add_link(cat.id)" class="btn btn-primary btn-sm">+</a>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <br>
    <br>
</div>